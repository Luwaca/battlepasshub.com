<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Overwatch</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Protest+Strike:wght@400&display=swap">
    <link rel="stylesheet" href="../assets/styles/navbar.css">
    <link rel="stylesheet" href="../assets/styles/overwatch.css">
    <link rel="icon" type="image/x-icon" href="../assets/icons/BP.ico">
</head>
<body>
    <div class="nav-bar">
        <img class="bp" src="../assets/icons/BP.png" alt="BP Logo" />
        <a href="../index.html"><div class="home"><div class="text-wrapper-3">HOME</div></div></a>
        <a href="../Pages/overwatch.html"><div class="ow"><div class="overlap"><div class="text-wrapper-2">OVERWATCH</div></div></div></a>
        <a href="../Pages/fortnite.html"><div class="fortnite"><div class="overlap-group"><div class="div">FORTNITE</div></div></div></a>
        <a href="../Pages/game-selection.html"><div class="stats"><div class="text-wrapper">GAME STATS</div></div></a>
    </div>
    <div class="wrapper">
      <div class="hero-banner overwatch"></div>
      <div class="content">
        <div class="countdown-box overwatch">
          <h1>Countdown to the Next Battle Pass</h1>
          <div id="overwatch-countdown" class="countdown overwatch"></div>
        </div>
        <div class="patch-notes-box overwatch">
          <h1>Latest Patch Notes</h1>
          <p>Check out the latest updates and improvements made to Overwatch.</p>
          <a href="https://overwatch.blizzard.com/en-us/news/patch-notes/" target="_blank" class="patch-notes-link">View Overwatch Patch Notes</a>
        </div>
      </div>
      <div class="heroes-container">
        <div class="group">
          <h2>Tank</h2>
          <div class="hero-boxes">
            <div class="hero-box" data-hero="doomfist"><img src="../assets/heroes/doom.png" alt="Doomfist" /></div>
            <div class="hero-box" data-hero="dva"><img src="../assets/heroes/dva.png" alt="D.Va" /></div>
            <div class="hero-box" data-hero="roadhog"><img src="../assets/heroes/hog.png" alt="Roadhog" /></div>
            <div class="hero-box" data-hero="reinhardt"><img src="../assets/heroes/rein.png" alt="Reinhardt" /></div>
            <div class="hero-box" data-hero="sigma"><img src="../assets/heroes/sigma.png" alt="Sigma" /></div>
            <div class="hero-box" data-hero="winston"><img src="../assets/heroes/winston.png" alt="Winston" /></div>
            <div class="hero-box" data-hero="wrecking-ball"><img src="../assets/heroes/wrecking ball.png" alt="Wrecking Ball" /></div>
            <div class="hero-box" data-hero="zarya"><img src="../assets/heroes/zarya.png" alt="Zarya" /></div>
            <div class="hero-box" data-hero="ramattra"><img src="../assets/heroes/ram.png" alt="Ramattra" /></div>
            <div class="hero-box" data-hero="junker-queen"><img src="../assets/heroes/Junkerqueen.png" alt="Junker Queen" /></div>
            <div class="hero-box" data-hero="mauga"><img src="../assets/heroes/mauga.png" alt="Mauga" /></div>
            <div class="hero-box" data-hero="orisa"><img src="../assets/heroes/orisa.png" alt="Orisa" /></div>
          </div>
        </div>
        <div class="group">
          <h2>DPS</h2>
          <div class="hero-boxes">
            <div class="hero-box" data-hero="ashe"><img src="../assets/heroes/ashe.png" alt="Ashe" /></div>
            <div class="hero-box" data-hero="cassidy"><img src="../assets/heroes/cass.png" alt="Cassidy" /></div>
            <div class="hero-box" data-hero="echo"><img src="../assets/heroes/echo.png" alt="Echo" /></div>
            <div class="hero-box" data-hero="bastion"><img src="../assets/heroes/bastion.png" alt="Bastion" /></div>
            <div class="hero-box" data-hero="genji"><img src="../assets/heroes/genji.png" alt="Genji" /></div>
            <div class="hero-box" data-hero="hanzo"><img src="../assets/heroes/Hanzo.png" alt="Hanzo" /></div>
            <div class="hero-box" data-hero="sojourn"><img src="../assets/heroes/soj.png" alt="Sojourn" /></div>
            <div class="hero-box" data-hero="soldier"><img src="../assets/heroes/soldier.png" alt="Soldier" /></div>
            <div class="hero-box" data-hero="sombra"><img src="../assets/heroes/sombra.png" alt="Sombra" /></div>
            <div class="hero-box" data-hero="symmetra"><img src="../assets/heroes/sym.png" alt="Symmetra" /></div>
            <div class="hero-box" data-hero="torbjorn"><img src="../assets/heroes/torb.png" alt="Torbjorn" /></div>
            <div class="hero-box" data-hero="tracer"><img src="../assets/heroes/tracer.png" alt="Tracer" /></div>
            <div class="hero-box" data-hero="widowmaker"><img src="../assets/heroes/widowmaker.png" alt="Widowmaker" /></div>
            <div class="hero-box" data-hero="pharah"><img src="../assets/heroes/pharah.png" alt="Pharah" /></div>
            <div class="hero-box" data-hero="reaper"><img src="../assets/heroes/reaper.png" alt="Reaper" /></div>
            <div class="hero-box" data-hero="mei"><img src="../assets/heroes/Mei.png" alt="Mei" /></div>
            <div class="hero-box" data-hero="junkrat"><img src="../assets/heroes/Junkerrat.png" alt="Junkrat" /></div>
          </div>
        </div>
      <div class="group">
        <h2>Support</h2>
        <div class="hero-boxes">
            <div class="hero-box" data-hero="ana"><img src="../assets/heroes/ana.png" alt="Ana" /></div>
            <div class="hero-box" data-hero="baptiste"><img src="../assets/heroes/bap.png" alt="Baptiste" /></div>
            <div class="hero-box" data-hero="brigitte"><img src="../assets/heroes/brig.png" alt="Brigitte" /></div>
            <div class="hero-box" data-hero="illari"><img src="../assets/heroes/Illari.png" alt="Illari" /></div>
            <div class="hero-box" data-hero="zenyatta"><img src="../assets/heroes/zen.png" alt="Zenyatta" /></div>
            <div class="hero-box" data-hero="mercy"><img src="../assets/heroes/mercy.png" alt="Mercy" /></div>
            <div class="hero-box" data-hero="kiriko"><img src="../assets/heroes/kiri.png" alt="Kiriko" /></div>
            <div class="hero-box" data-hero="juno"><img src="../assets/heroes/juno.png" alt="Juno" /></div>
            <div class="hero-box" data-hero="moira"><img src="../assets/heroes/moira.png" alt="Moira" /></div>
        </div>
    </div>
    
  <!-- Modal Popup -->
<div id="hero-modal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2 id="hero-name"></h2>
        <img id="hero-portrait" src="" alt="Hero Portrait" />
        <p id="hero-description"></p>
        <p id="hero-role"></p>
        <p id="hero-location"></p>
        <p id="hero-birthday"></p>
        <p id="hero-age"></p>
        <div id="hero-hitpoints"></div>
        <div id="hero-abilities"></div>
    </div>
</div>

  </div>
</div>


    <script>
 
document.addEventListener('DOMContentLoaded', function () {
    // Function to open modal
    function openModal() {
        const modal = document.getElementById('hero-modal');
        modal.style.display = 'block';
    }

    // Function to close modal
    function closeModal() {
        const modal = document.getElementById('hero-modal');
        modal.style.display = 'none';
    }

    // Fetch and display hero info
    async function fetchHeroInfo(hero) {
        try {
            const response = await fetch(`https://little-congruous-gatsby.glitch.me/api/overwatch/hero/${hero}`);
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            const data = await response.json();
            document.getElementById('hero-name').textContent = data.name || 'Hero Name Unavailable';
            document.getElementById('hero-portrait').src = data.portrait || 'default-image.png';
            document.getElementById('hero-description').textContent = data.description || 'Description not available';
            document.getElementById('hero-role').textContent = `Role: ${data.role || 'N/A'}`;
            document.getElementById('hero-location').textContent = `Location: ${data.location || 'N/A'}`;
            document.getElementById('hero-birthday').textContent = `Birthday: ${data.birthday || 'N/A'}`;
            document.getElementById('hero-age').textContent = `Age: ${data.age || 'N/A'}`;
            
            const hitpoints = data.hitpoints || {};
            document.getElementById('hero-hitpoints').innerHTML = `
                <p>Hitpoints:</p>
                <ul>
                    <li>Shields: ${hitpoints.shields || 'N/A'}</li>
                    <li>Armor: ${hitpoints.armor || 'N/A'}</li>
                    <li>Health: ${hitpoints.health || 'N/A'}</li>
                    <li>Total: ${hitpoints.total || 'N/A'}</li>
                </ul>
            `;

            const abilities = data.abilities || [];
            const abilitiesHTML = abilities.map(ability => `
                <div class="ability">
                    <img src="${ability.icon}" alt="${ability.name} icon" />
                    <p>${ability.name}: ${ability.description}</p>
                </div>
            `).join('');
            document.getElementById('hero-abilities').innerHTML = abilitiesHTML;

            openModal();
        } catch (error) {
            console.error('Error fetching hero info:', error);
            document.getElementById('hero-name').textContent = 'Error';
            document.getElementById('hero-portrait').src = 'error-image.png';
            document.getElementById('hero-description').textContent = 'Unable to fetch hero info';
            openModal();
        }
    }

    // Event listeners for hero boxes
    document.querySelectorAll('.hero-box').forEach(box => {
        box.addEventListener('click', function () {
            const hero = this.getAttribute('data-hero');
            fetchHeroInfo(hero);
        });
    });

    // Event listener for close button
    document.querySelector('.close').addEventListener('click', closeModal);

    // Close modal on outside click
    window.addEventListener('click', function (event) {
        const modal = document.getElementById('hero-modal');
        if (event.target === modal) {
            closeModal();
        }
    });
      
    function countdown(endDate, elementId) {
            const end = new Date(endDate).getTime();
            const x = setInterval(function() {
                const now = new Date().getTime();
                const distance = end - now;
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                document.getElementById(elementId).innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`;
                if (distance < 0) {
                    clearInterval(x);
                    document.getElementById(elementId).innerHTML = "EXPIRED";
                }
            }, 1000);
        }
        window.onload = function() {
            countdown("Dec 10, 2024 00:00:00", "overwatch-countdown");
        };
});


    </script>
  </body>
</html>
